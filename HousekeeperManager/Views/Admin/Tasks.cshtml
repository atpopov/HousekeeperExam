
@{
    ViewBag.Title = "Tasks";
    Data.Data.TaskContext taskContext = new Data.Data.TaskContext();
}

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>Flight Manager</title>
    <link rel="stylesheet" type="text/css" href="~/Content/reset-css.css">
    <link rel="stylesheet" type="text/css" href="~/Content/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="~/Content/style.css">
    <link rel="jssheet" href="~/Content/script.js">
</head>

<body>
    <div class="container-fluid">
        <header>
            <nav class="navbar flightm-color">

                <h1 style="float:none; text-align:center"><a href="/Admin/Home">Housekeeper Manager</a></h1>
                <ul>
                    <li> <a class="active" style="float:left; margin-left:2%; text-align:center" href="/Admin/Users">Users</a></li>
                    <li> <a class="active" style="float:left; margin-left:2%; text-align:center" href="/Admin/Tasks">Tasks</a></li>
                    <li> <a class="active" style="float:left; margin-left:2%; text-align:center" href="/Admin/Locations">Locations</a></li>
                </ul>
                <ul>
                    <li> <a class="active" style="float:right; margin-right:2%; text-align:center">Welcome, Admin!</a></li>
                    <li> <a class="active" href="/Home/Logout" style="float:right; margin-right:2%; text-align:center">Logout</a></li>
                </ul>
            </nav>
        </header>
        <main>
            <!--<input type="text" id="searchBar" onkeyup="myFunction()" placeholder="Search..">-->
            <div class="jumbotron mt-3 flightm-color">
                <h1>All Tasks</h1>
                <a class="active" href="/Admin/TaskCreate">Create a new Task</a>
                <hr class="bg-white" />
                <div class="container">
                    <div class="row">
                        <div class="table-responsive">
                            <table width:"100%" class=" table table-hover" id="myTable">
                                <thead>
                                    <tr>
                                        <th>Id</th>
                                        <th>Name</th>
                                        <th>Description</th>
                                        <th>Location Id</th>
                                        <th>Deadline</th>
                                        <th>Category</th>
                                        <th>Budget</th>
                                        <th>Status</th>
                                        <th>User Id</th>
                                        <th>ImageUrl</th>
                                        <th>Date of Assignment</th>
                                        <th>Edit</th>
                                        <th>Remove</th>
                                    </tr>
                                </thead>

                                @foreach (Data.Model.Task task in taskContext.Tasks)
                                {
                                    <tbody id="myTableBody">
                                        <tr class="success">
                                            <td>@task.Id</td>
                                            <td>@task.Name</td>
                                            <td>@task.Description</td>
                                            <td>@task.LocationId</td>
                                            <td>@task.DeadLine</td>
                                            <td>@task.Category</td>
                                            <td>@task.Budget</td>
                                            <td>@task.Status</td>
                                            <td>@task.UserId</td>
                                            <td>@task.ImageUrl</td>
                                            
                                            @if (task.Status != "Assigned")
                                            {
                                                <td></td>
                                            }
                                            else
                                            {
                                            <td>@task.DateOfAssignment</td>
                                            }
                                            <td>
                                                <a class="active" id="butns" href="/Admin/TaskEdit/@task.Id">Edit</a>
                                            </td>
                                            <td>
                                                <a class="active" href="/Admin/TaskRemove/@task.Id">Remove</a>
                                            </td>
                                        </tr>
                                    </tbody>

                                }
                            </table>
                            <div class="col-md-12 text-center">
                                <ul class="pagination pagination-lg pager" id="myPager"></ul>
                            </div>

                        </div>

                    </div>
                </div>


            </div>
        </main>
    </div>
</body>

